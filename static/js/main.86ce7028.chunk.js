(this["webpackJsonpmini-app"]=this["webpackJsonpmini-app"]||[]).push([[0],{163:function(t,e,n){},165:function(t,e,n){"use strict";n.r(e);var i=n(4),c=n(12),r=n.n(c),a=n(8),o=n.n(a),d=n(17),h=n(13),s=n(14),u=n(19),l=n(18),p=(n(164),n(0)),m=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){return Object(h.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=document.getElementById("canvas"),e=t.getContext("2d"),n=new Image;n.src="https://i.ibb.co/Q9yv5Jk/flappy-bird-set.png";var i,c,r,a,o=!1,h=[51,36],s=t.width/10,u=0,l=0,p=78,m=270,g=function(){return Math.random()*(t.height-348-p)+p},w=function(){r=0,i=-11.5,c=t.height/2-h[1]/2,a=Array(3).fill().map((function(e,n){return[t.width+348*n,g()]}))};w(),n.onload=function b(){u++,e.drawImage(n,0,0,t.width,t.height,-3.1*u%t.width+t.width,0,t.width,t.height),e.drawImage(n,0,0,t.width,t.height,-3.1*u%t.width,0,t.width,t.height),o&&a.map((function(i){i[0]-=6.2,e.drawImage(n,432,588-i[1],p,i[1],i[0],0,p,i[1]),e.drawImage(n,510,108,p,t.height-i[1]+m,i[0],i[1]+m,p,t.height-i[1]+m),i[0]<=-78&&(r++,l=Math.max(l,r),a=[].concat(Object(d.a)(a.slice(1)),[[a[a.length-1][0]+m+p,g()]]),console.log(a)),[i[0]<=s+h[0],i[0]+p>=s,i[1]>c||i[1]+m<c+h[1]].every((function(t){return t}))&&(o=!1,w())})),o?(e.drawImage.apply(e,[n,432,Math.floor(u%9/3)*h[1]].concat(h,[s,c],h)),i+=.5,c=Math.min(c+i,t.height-h[1])):(e.drawImage.apply(e,[n,432,Math.floor(u%9/3)*h[1]].concat(h,[t.width/2-h[0]/2,c],h)),c=t.height/2-h[1]/2,e.fillText("Best score : ".concat(l),85,245),e.fillText("Click to play",90,535),e.font="bold 30px courier"),document.getElementById("bestScore").innerHTML="Best : ".concat(l),document.getElementById("currentScore").innerHTML="Current : ".concat(r),window.requestAnimationFrame(b)},document.addEventListener("click",(function(){return o=!0})),window.onclick=function(){return i=-11.5},console.log(o)}},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("header",{children:[Object(p.jsx)("h1",{children:"Floppy Bird"}),Object(p.jsxs)("div",{className:"score-container",children:[Object(p.jsx)("div",{id:"bestScore"}),Object(p.jsx)("div",{id:"currentScore"})]})]}),Object(p.jsx)("canvas",{id:"canvas",width:"431",height:"768"})]})}}]),n}(i.Component),g=m;n(163);o.a.send("VKWebAppInit"),r.a.render(Object(p.jsx)(g,{}),document.getElementById("root"))}},[[165,1,2]]]);
//# sourceMappingURL=main.86ce7028.chunk.js.map