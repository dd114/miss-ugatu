(this["webpackJsonpmini-app"]=this["webpackJsonpmini-app"]||[]).push([[0],{163:function(t,e,n){},165:function(t,e,n){"use strict";n.r(e);var i=n(4),c=n(12),h=n.n(c),o=n(8),r=n.n(o),a=n(17),d=n(13),s=n(14),g=n(19),w=n(18),p=(n(164),n(0)),l=function(t){Object(g.a)(n,t);var e=Object(w.a)(n);function n(){return Object(d.a)(this,n),e.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var t=document.getElementById("canvas"),e=t.getContext("2d"),n=new Image,i=new Image,c=new Image,h=new Image,o=new Image,r=new Image,d=[h,o,r];n.src="https://i.ibb.co/TH4dXYh/background.png",i.src="https://i.ibb.co/Sv0gWQt/topPipe.png",c.src="https://i.ibb.co/5BvD5Lw/bottom-Pipe.png",h.src="https://i.ibb.co/mt8098S/bird1.png",o.src="https://i.ibb.co/Vw854hc/bird2.png",r.src="https://i.ibb.co/C2c7cWP/bird3.png",i.width===c.width&&i.height===c.height?console.log("Correct"):console.log("INCORRECT");var s,g,w,p,l=!1,b=[h.width,h.height],u=t.width/10,m=4*b[0],j=(t.height,t.width,0),f=0;t.height=window.innerHeight,console.log(t.width,t.height);var v=.7*t.width,I=function(){return Math.random()*(t.height-m)%i.height},O=function(){w=0,s=-11.5,g=t.height/2-b[1]/2,p=Array(3).fill().map((function(e,n){return[t.width+n*(v+i.width),I()]}))};O(),n.onload=function h(){j++,e.drawImage(n,-3.1*j%t.width+t.width,0,t.width,t.height),e.drawImage(n,-3.1*j%t.width,0,t.width,t.height),l&&p.map((function(t){t[0]-=6.2,e.drawImage(i,t[0],t[1]-i.height,i.width,i.height),e.drawImage(c,t[0],t[1]+m,c.width,c.height),t[0]<=-i.width&&(w++,f=Math.max(f,w),p=[].concat(Object(a.a)(p.slice(1)),[[p[p.length-1][0]+v+i.width,I()]]),console.log(p)),[t[0]<=u+b[0],t[0]+i.width>=u,t[1]>g||t[1]+m<g+b[1]].every((function(t){return t}))&&(l=!1,O())})),l?(e.drawImage.apply(e,[d[j%d.length],u,g].concat(b)),s+=.5,g=Math.min(g+s,t.height-b[1])):(e.drawImage.apply(e,[d[j%d.length],t.width/2-b[0]/2,g].concat(b)),g=t.height/2-b[1]/2,e.fillText("Best score : ".concat(f),85,245),e.fillText("Click to play",90,535),e.font="bold 30px courier"),document.getElementById("bestScore").innerHTML="Best : ".concat(f),document.getElementById("currentScore").innerHTML="Current : ".concat(w),window.requestAnimationFrame(h)},document.addEventListener("click",(function(){l=!0})),window.onclick=function(){s=-11.5}}},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsxs)("header",{children:[Object(p.jsx)("h1",{children:"Floppy Bird"}),Object(p.jsxs)("div",{className:"score-container",children:[Object(p.jsx)("div",{id:"bestScore"}),Object(p.jsx)("div",{id:"currentScore"})]})]}),Object(p.jsx)("canvas",{id:"canvas",width:"431"})]})}}]),n}(i.Component),b=l;n(163);r.a.send("VKWebAppInit"),h.a.render(Object(p.jsx)(b,{}),document.getElementById("root"))}},[[165,1,2]]]);
//# sourceMappingURL=main.4ef0d617.chunk.js.map